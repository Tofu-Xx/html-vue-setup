<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title>无html-vue-setup的set函数写法</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<main>
  <p>{{ dbl }}</p>
  <button @click="count++" ref="btn">{{ count }}</button>
</main>

<script>
  const { ref, computed, watchEffect, createApp } = Vue;
  createApp({
    setup: () => {
      const btn = ref(null);
      const count = ref(0);
      const dbl = computed(() => count.value * 2);
      watchEffect(() => {
        count.value > 10 && alert(`Are you bored?`);
      });
      onMounted(() => {
        btn.value.focus();
      });
      return {
        count,
        dbl
      };
    }
  }).mount('main');
</script>